swagger:
  show: true
server:
  port: 8082
logging:
  config: classpath:log/logback.xml
#app:
#  id: opay-im
#apollo:
#  meta: http://10.52.184.230:8080
#  cacheDir: ./config
#  bootstrap:
#    enabled: true
#    namespaces: application,FX.apollo,application.yml
spring:
  application:
    name: opay-im
  redis:
    host: 127.0.0.1
    port: 6379
    timeout: 20000
    lettuce:
      pool:
        max-active: 8
        max-wait: 1
        max-idle: 8
        min-idle: 0
  cache:
    type: redis
  jackson:
    date-format: yyyy-MM-dd HH:mm:ss
    time-zone: GMT+1

  shardingsphere:
    datasource:
      names: master
      master:
        driver-class-name: com.mysql.jdbc.Driver
        type: com.zaxxer.hikari.HikariDataSource
        jdbc-url: jdbc:mysql://localhost:3306/opay_im?useSSL=false
        username: root
        password: root
        maximumPoolSize: 15
    sharding:
      tables:
        rong_cloud_message:
          actual-data-nodes: master.rong_cloud_message_${2019..2022}_${1..12}
          table-strategy:
            standard:
              sharding-column: msg_timestamp
              precise-algorithm-class-name: com.opay.im.config.MessagePreciseShardingAlgorithm
rongyun:
  appKey: k51hidwqk4icb
  appSecret: 02hEdHbsDuB
config:
  opay:
    domain: http://api.test.opaydev.com:8081/
    merchantId: 256619090900002
    aesKey: UxanhvcUC3aeiLRR
    iv: qazwert12345!@#$
im:
  group:
    maxMember: 200
  luckyMoney:
    singleMax: 500
    dayMax: 8000
    expirationDays: 1

management:
  endpoints:
    web:
      exposure:
        include:  '*'
  metrics:
    tags:
      application: ${spring.application.name}
prometheus:
  client:
    enabled: true
    basePackage: com.opay.im
